<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Дерево рода</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom right, #a0d8f1, #f0f8ff);
    min-height: 100vh;
    padding: 30px 20px;
    color: #333;
  }

  h1 {
    text-align: center;
    color: #1b3b6f;
    margin-bottom: 50px;
    font-size: 2em;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
  }

  .tree {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    width: 100%;
    max-width: 900px;
    margin: 0 auto;
  }

  .generation {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 60px;
    position: relative;
  }

  .member {
    position: relative;
    border: 2px solid #4a90e2;
    border-radius: 12px;
    padding: 15px 25px;
    margin: 0 25px;
    background: linear-gradient(135deg, #ffffff, #e0f7ff);
    text-align: center;
    min-width: 130px;
    box-shadow: 3px 3px 10px rgba(0,0,0,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
  }

  .member:hover {
    transform: translateY(-5px);
    box-shadow: 5px 5px 15px rgba(0,0,0,0.25);
  }

  .info {
    display: none;
    margin-top: 10px;
    font-size: 0.9em;
    color: #1b3b6f;
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    overflow: visible;
    pointer-events: none;
  }

  @media (max-width: 600px) {
    .member {
      margin: 10px;
      min-width: 100px;
      padding: 10px 15px;
    }

    h1 {
      font-size: 1.5em;
    }
  }
</style>
</head>
<body>
<h1>Дерево рода</h1>

<div class="tree" id="tree">

  <!-- Бабушки -->
  <div class="generation" id="grandparents">
    <div class="member" id="jenya">
      Женя
      <div class="info">Бабушка по отцу. Родилась в 1955 году, любит садоводство.</div>
    </div>
    <div class="member" id="vera">
      Вера
      <div class="info">Бабушка по матери. Родилась в 1957 году, увлекается рукоделием.</div>
    </div>
  </div>

  <!-- Родители -->
  <div class="generation" id="parents">
    <div class="member" id="vitaliy">
      Виталий
      <div class="info">Отец. Родился в 1978 году, работает инженером.</div>
    </div>
    <div class="member" id="oksana">
      Оксана
      <div class="info">Мать. Родилась в 1980 году, педагог.</div>
    </div>
  </div>

  <!-- Дети горизонтально -->
  <div class="generation" id="children">
    <div class="member" id="vlad">Влад
      <div class="info">Сын. Родился в 1998 году, студент.</div>
    </div>
    <div class="member" id="nikita">Никита
      <div class="info">Сын. Родился в 2000 году, учится в школе.</div>
    </div>
  </div>

  <!-- Кот Макс отдельным уровнем -->
  <div class="generation" id="pet">
    <div class="member" id="max">Кот Макс
      <div class="info">Домашний питомец. Любит спать и играть.</div>
    </div>
  </div>

  <!-- SVG линии -->
  <svg id="lines"></svg>

</div>

<script>
function drawLines() {
  const svg = document.getElementById('lines');
  svg.innerHTML = '';

  function line(from, to) {
    const f = from.getBoundingClientRect();
    const t = to.getBoundingClientRect();
    const parentRect = svg.parentElement.getBoundingClientRect();
    const x1 = f.left + f.width/2 - parentRect.left;
    const y1 = f.bottom - parentRect.top;
    const x2 = t.left + t.width/2 - parentRect.left;
    const y2 = t.top - parentRect.top;
    const newLine = document.createElementNS('http://www.w3.org/2000/svg','line');
    newLine.setAttribute('x1', x1);
    newLine.setAttribute('y1', y1);
    newLine.setAttribute('x2', x2);
    newLine.setAttribute('y2', y2);
    newLine.setAttribute('stroke', '#4a90e2');
    newLine.setAttribute('stroke-width', '2');
    svg.appendChild(newLine);
  }

  const jenya = document.getElementById('jenya');
  const vera = document.getElementById('vera');
  const vitaliy = document.getElementById('vitaliy');
  const oksana = document.getElementById('oksana');
  const vlad = document.getElementById('vlad');
  const nikita = document.getElementById('nikita');
  const max = document.getElementById('max');

  // Бабушки → Родители
  line(jenya, vitaliy);
  line(vera, oksana);

  // Родители → Дети
  line(vitaliy, vlad);
  line(oksana, vlad);
  line(vitaliy, nikita);
  line(oksana, nikita);

  // Влад и Никита → Кот Макс
  line(vlad, max);
  line(nikita, max);
}

// раскрытие информации при клике
document.querySelectorAll('.member').forEach(member => {
  member.addEventListener('click', () => {
    const info = member.querySelector('.info');
    if(info.style.display === 'block'){
      info.style.display = 'none';
    } else {
      info.style.display = 'block';
    }
  });
});

window.addEventListener('resize', drawLines);
window.addEventListener('load', drawLines);
</script>

</body>
</html>
