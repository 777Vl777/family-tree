<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Древо рода Ларионовых</title>
  <style>
    :root{--accent:#1b3b6f;--accent2:#4a90e2}
    body{font-family:Segoe UI, Tahoma, sans-serif;background:linear-gradient(180deg,#eaf6ff,#f7fbff);margin:0;padding:28px;color:#222}
    header{text-align:center;margin-bottom:18px}
    header h1{color:var(--accent);font-size:2.2rem;margin:0}
    #controls{display:flex;justify-content:center;gap:10px;margin:18px 0;flex-wrap:wrap}
    input.search{padding:10px 12px;border-radius:12px;border:1px solid #cfe8ff;width:320px}
    button{padding:10px 14px;border-radius:10px;border:0;background:var(--accent2);color:#fff;cursor:pointer}
    .tree{max-width:1100px;margin:0 auto;position:relative}
    .generation{display:flex;justify-content:center;flex-wrap:wrap;margin:40px 0}
    .member{background:linear-gradient(135deg,#fff,#eef9ff);border:2px solid var(--accent2);border-radius:12px;padding:14px;width:180px;margin:12px;text-align:center;cursor:pointer;box-shadow:0 6px 20px rgba(10,30,60,0.06);transition:transform .18s}
    .member:hover{transform:translateY(-6px)}
    .member img{width:96px;height:96px;border-radius:50%;object-fit:cover;border:3px solid #fff;margin-bottom:8px}
    .name{font-weight:700;color:var(--accent)}
    .years{font-size:.86rem;color:#666}
    .bio{display:none;color:#123a63;margin-top:8px;font-size:.86rem}
    svg#lines{position:absolute;top:0;left:0;overflow:visible;pointer-events:none}
    footer{text-align:center;margin-top:28px;padding:18px;color:#445}
    .filters{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
    .filters button{background:transparent;border:1px solid #d6e9ff;padding:8px 12px;border-radius:8px;color:var(--accent2);cursor:pointer}
    .filters button.active{background:var(--accent2);color:#fff}
    @media(max-width:700px){input.search{width:60vw}}
  </style>
</head>
<body>
  <header>
    <h1>Древо рода Ларионовых</h1>
    <p>Поколения, объединённые памятью и вниманием</p>
  </header>

  <div id="controls">
    <input class="search" id="searchInput" placeholder="Поиск по имени...">
    <button onclick="searchMember()">Найти</button>
    <button onclick="resetHighlight()">Сброс</button>
  </div>

  <div class="filters">
    <button data-role="" class="active" onclick="filterRole(this)">Все</button>
    <button data-role="Прадед" onclick="filterRole(this)">Прадеды</button>
    <button data-role="Дед" onclick="filterRole(this)">Деды</button>
    <button data-role="Отец" onclick="filterRole(this)">Родители</button>
    <button data-role="Сын" onclick="filterRole(this)">Дети</button>
    <button data-role="Питомец" onclick="filterRole(this)">Питомцы</button>
  </div>

  <div class="tree" id="tree">
    <svg id="lines"></svg>
  </div>

  <footer>
    © 2025 — Дерево рода. Статическая версия для GitHub Pages.
  </footer>

<script>
const members = [
  {id:1,name:"Иван",role:"Прадед",years:"1918–1990",bio:"Кузнец, любил рассказывать истории.",photoUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=7",hiddenLink:"#"},
  {id:2,name:"София",role:"Прабабушка",years:"1922–2002",bio:"Библиотекарь, ценительница книг.",photoUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=2",hiddenLink:"#"},
  {id:3,name:"Алексей",role:"Дед",years:"1950–2015",bio:"Инженер, изобретатель по натуре.",photoUrl:"https://images.unsplash.com/photo-1545996124-6f7d0b6f5b9b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=3",hiddenLink:"#"},
  {id:4,name:"Валентина",role:"Бабушка",years:"1953–2020",bio:"Медик, добрая и заботливая.",photoUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=4",hiddenLink:"#"},
  {id:5,name:"Виталий",role:"Отец",years:"1978–",bio:"Инженер, любит спорт и порядок.",photoUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=5",hiddenLink:"#"},
  {id:6,name:"Оксана",role:"Мать",years:"1980–",bio:"Педагог, любит литературу и музыку.",photoUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=6",hiddenLink:"#"},
  {id:7,name:"Влад",role:"Сын",years:"1998–",bio:"Студент прикладной информатики, начинающий предприниматель.",photoUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=7",hiddenLink:"#"},
  {id:8,name:"Никита",role:"Сын",years:"2000–",bio:"Увлекается музыкой и спортом.",photoUrl:"https://images.unsplash.com/photo-1603415526960-f7e0328c6b91?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=8",hiddenLink:"#"},
  {id:9,name:"Макс",role:"Питомец",years:"2018–",bio:"Кот семьи, ленив и игрив.",photoUrl:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=9",hiddenLink:"#"}
];

function renderTree() {
  const tree = document.getElementById('tree');
  tree.querySelectorAll('.generation').forEach(g=>g.remove());
  const roles = [
    {id:'gen1',name:'Прадеды',filter:['Прадед','Прабабушка']},
    {id:'gen2',name:'Деды',filter:['Дед','Бабушка']},
    {id:'gen3',name:'Родители',filter:['Отец','Мать']},
    {id:'gen4',name:'Дети',filter:['Сын','Дочь']},
    {id:'gen5',name:'Питомцы',filter:['Питомец']}
  ];
  roles.forEach(r=>{
    const genDiv = document.createElement('div');
    genDiv.className='generation';
    genDiv.id=r.id;
    const h = document.createElement('h3'); h.style.width='100%'; h.style.textAlign='center'; h.textContent=r.name;
    genDiv.appendChild(h);
    members.filter(m=>r.filter.includes(m.role)).forEach(m=>{
      const mDiv = document.createElement('div'); mDiv.className='member'; mDiv.id='m'+m.id;
      mDiv.innerHTML=`<img src="${m.photoUrl}" alt="photo"><div class="name">${m.name}</div><div class="years">${m.years}</div><div class="bio">${m.bio}</div>`;
      mDiv.addEventListener('click',()=>{const bio=mDiv.querySelector('.bio'); bio.style.display=(bio.style.display==='block')?'none':'block';});
      genDiv.appendChild(mDiv);
    });
    tree.appendChild(genDiv);
  });
}
function filterRole(button){
  const role=button.getAttribute('data-role');
  document.querySelectorAll('.filters button').forEach(b=>b.classList.remove('active'));
  button.classList.add('active');
  document.querySelectorAll('.member').forEach(m=>{
    const r=members.find(mem=> 'm'+mem.id===m.id).role;
    m.style.display=(role===''||r===role)?'block':'none';
  });
}
function searchMember(){
  const q=document.getElementById('searchInput').value.trim().toLowerCase();
  document.querySelectorAll('.member').forEach(m=>{
    const text=m.textContent.toLowerCase();
    const bio=m.querySelector('.bio');
    if(q!=='' && text.includes(q)){
      m.style.transform='scale(1.06)'; m.style.borderColor='#1b3b6f'; if(bio) bio.style.display='block';
    } else { m.style.transform='scale(1)'; m.style.borderColor='#4a90e2'; if(bio) bio.style.display='none'; }
  });
}
function resetHighlight(){document.getElementById('searchInput').value=''; searchMember();}

document.addEventListener('DOMContentLoaded',()=>{
  renderTree();
});
</script>
</body>
</html>
